From 349a6b4b8c90627f8fa1c870558f703840739fab Mon Sep 17 00:00:00 2001
From: bbcallen <bbcallen@gmail.com>
Date: Sat, 24 Mar 2012 19:47:54 +0800
Subject: [PATCH 8/9] disable more modules

---
 Makefile                   |    2 +-
 vlc-android/jni/Android.mk |   11 +++++------
 2 files changed, 6 insertions(+), 7 deletions(-)

diff --git a/Makefile b/Makefile
index ac3102d..572ac12 100644
--- a/Makefile
+++ b/Makefile
@@ -35,7 +35,7 @@ $(VLC_APK): $(LIBVLCJNI) $(JAVA_SOURCES)
 	@echo
 	$(VERBOSE)cd $(SRC) && ant $(ANT_OPTS) debug
 
-VLC_MODULES=`find $(VLC_BUILD_DIR)/modules -name 'lib*_plugin.a'|grep -v -E "stats|access_bd|oldrc|real|hotkeys|gestures|sap|dynamicoverlay|rss|logo|libball|bargraph|clone|access_shm|mosaic|logo|imem|osdmenu|puzzle|mediadirs|t140|ripple|motion|sharpen|grain|posterize|mirror|wall|scene|blendbench|psychedelic|alphamask|netsync|audioscrobbler|imem|motiondetect|export|smf|podcast|bluescreen|erase|record|speex_resampler|remoteosd|magnify|gradient|spdif" | tr \\\\n \ `
+VLC_MODULES=`find $(VLC_BUILD_DIR)/modules -name 'lib*_plugin.a'|grep -v -E "stats|access_bd|oldrc|real|hotkeys|gestures|sap|dynamicoverlay|rss|logo|libball|bargraph|clone|access_shm|mosaic|logo|imem|osdmenu|puzzle|mediadirs|t140|ripple|motion|sharpen|grain|posterize|mirror|wall|scene|blendbench|psychedelic|alphamask|netsync|audioscrobbler|imem|motiondetect|export|smf|podcast|bluescreen|erase|record|speex_resampler|remoteosd|magnify|gradient|spdif|dash|xml|flac|ogg|rar|access_upd|vdr|sdp|stream_filter_rar|access_mms|rtp|zip|compressor|karaoke|aout_file|dirac|tta|avi|playlist|folder|osd_parser|decomp|subtitle|vobsub|voc|asf|wave|visual|marq|subsdelay|aiff" | tr \\\\n \ `
 
 $(LIBVLCJNI_H):
 	$(VERBOSE)if [ -z "$(VLC_BUILD_DIR)" ]; then echo "VLC_BUILD_DIR not defined" ; exit 1; fi
diff --git a/vlc-android/jni/Android.mk b/vlc-android/jni/Android.mk
index a2e83e3..d203353 100644
--- a/vlc-android/jni/Android.mk
+++ b/vlc-android/jni/Android.mk
@@ -3,7 +3,7 @@ include $(CLEAR_VARS)
 
 LOCAL_MODULE    := libvlcjni
 
-LOCAL_SRC_FILES := libvlcjni.c aout.c thumbnailer.c pthread-condattr.c pthread-rwlocks.c
+LOCAL_SRC_FILES := libvlcjni.c aout.c pthread-condattr.c pthread-rwlocks.c
 
 LOCAL_C_INCLUDES := $(VLC_SRC_DIR)/include
 
@@ -24,13 +24,12 @@ LOCAL_LDLIBS := -L$(VLC_CONTRIB)/lib \
 	$(VLC_BUILD_DIR)/lib/.libs/libvlc.a \
 	$(VLC_BUILD_DIR)/src/.libs/libvlccore.a \
 	$(VLC_BUILD_DIR)/compat/.libs/libcompat.a \
-	-ldl -lz -lm -llog \
+	-ldl -lm -lz -llog \
 	-ldvbpsi \
-	-logg -lFLAC -ltheora \
+	-ltheora \
 	-lmpeg2 -ldca -la52 \
-	-lavformat -lavcodec -lswscale -lavutil -lpostproc -lgsm -lopenjpeg \
-	-lspeex -lspeexdsp \
-	-lxml2 -lpng -lgnutls -lgcrypt -lgpg-error \
+	-lavformat -lavcodec -lswscale -lavutil -lpostproc -lopenjpeg \
+	-lpng -lgnutls -lgcrypt -lgpg-error \
 	$(CPP_STATIC)
 
 include $(BUILD_SHARED_LIBRARY)
-- 
1.7.9.4

