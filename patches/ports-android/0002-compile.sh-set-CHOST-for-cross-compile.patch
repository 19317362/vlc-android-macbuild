From 73a389baa95687a0e85c756908d4affddbc1595e Mon Sep 17 00:00:00 2001
From: bbcallen <bbcallen@gmail.com>
Date: Sat, 11 Aug 2012 14:27:45 +0800
Subject: [PATCH 2/8] compile.sh: set CHOST for cross compile

---
 compile.sh |    5 ++++-
 1 个文件被修改，插入 4 行(+)，删除 1 行(-)

diff --git a/compile.sh b/compile.sh
index 28e2270..2e5f50b 100755
--- a/compile.sh
+++ b/compile.sh
@@ -85,7 +85,9 @@ export PLATFORM_SHORT_ARCH
 
 # Add the NDK toolchain to the PATH, needed both for contribs and for building
 # stub libraries
-export PATH=${ANDROID_NDK}/toolchains/${PATH_HOST}-${GCCVER}/prebuilt/`uname|tr A-Z a-z`-x86/bin:${PATH}
+ANDROID_BIN=${ANDROID_NDK}/toolchains/${PATH_HOST}-${GCCVER}/prebuilt/`uname|tr A-Z a-z`-x86/bin
+CHOST=${ANDROID_BIN}/${TARGET_TUPLE}
+export PATH=${ANDROID_BIN}:${PATH}
 
 # 1/ libvlc, libvlccore and its plugins
 TESTED_HASH=fe6e7e3
@@ -191,6 +193,7 @@ else
 fi
 
 echo "EXTRA_CFLAGS= -g ${EXTRA_CFLAGS}" >> config.mak
+echo "CHOST= ${CHOST}" >> config.mak
 export VLC_EXTRA_CFLAGS="${EXTRA_CFLAGS}"
 
 make fetch
-- 
1.7.10.4

