From 1ac4e1f28c8d6f2c9721fddb65f478bc03f0d0e2 Mon Sep 17 00:00:00 2001
From: bbcallen <bbcallen@gmail.com>
Date: Wed, 7 Mar 2012 03:14:44 +0800
Subject: [PATCH 2/2] fix build for patch-1003 and patch-1004 on ports-android

---
 compile.sh                 |    4 +---
 vlc-android/jni/Android.mk |    3 +++
 2 files changed, 4 insertions(+), 3 deletions(-)

diff --git a/compile.sh b/compile.sh
index e9ed879..ad3774f 100755
--- a/compile.sh
+++ b/compile.sh
@@ -62,9 +62,7 @@ mkdir contrib/android; cd contrib/android
     --disable-sdl \
     --disable-SDL_image \
     --disable-fontconfig \
-    --disable-ass \
-    --disable-freetyp2 \
-    --disable-fribidi \
+    --enable-iconv \
     --disable-zvbi \
     --disable-kate \
     --disable-caca \
diff --git a/vlc-android/jni/Android.mk b/vlc-android/jni/Android.mk
index 9fe7b28..4e7730a 100644
--- a/vlc-android/jni/Android.mk
+++ b/vlc-android/jni/Android.mk
@@ -13,6 +13,8 @@ else
 ARCH=armeabi
 endif
 
+LOCAL_CFLAGS := $(CFLAGS)
+
 ifeq ($(NO_NDK_V7),1)
 CPP_STATIC=$(ANDROID_NDK)/sources/cxx-stl/gnu-libstdc++/libs/$(ARCH)/libstdc++.a
 else
@@ -32,6 +34,7 @@ LOCAL_LDLIBS := -L$(VLC_CONTRIB)/lib \
 	-lliveMedia -lUsageEnvironment -lBasicUsageEnvironment -lgroupsock \
 	-lspeex -lspeexdsp \
 	-lxml2 -lpng \
+        -lass -lfreetype -lfribidi -liconv \
 	$(CPP_STATIC)
 
 include $(BUILD_SHARED_LIBRARY)
-- 
1.7.7.4

